
@{
    ViewBag.Title = "Recruiter";
    common cmn = new common();
}

<style>
    .dashboardmenu #cssmenu > ul > li > a {
        padding: 59px 12px 48px 12px !important;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<div class="menutoprel dashboardmenu sticky">
    <div class="topheaderbg  ">
        <div class="toplogosection ">
            <div class="container">
                <div class="row">
                    <div class="col-sm-9">
                        <div class="toplogo "><a href="@Url.Content("~/")"><img src="@Url.Content("~/images/jobs4bahrainislogo.png")" alt="" /></a></div>
                        <div id="cssmenu" class="menupadd">
                            <ul style="margin-left: 170px;">
                                <li ><a href="@Url.Content("~/Recruiter")">DASHBOARD</a></li>
                                @*<li><a href="@Url.Content("~/CandidateSearch2")">CANDIDATE SEARCH</a></li>*@
                               
                                <li><a href="@Url.Content("~/ManageVacancies")">VACANCIES</a></li>
                                <li class="active"><a href="@Url.Content("~/SearchDashboard")">CANDIDATE SEARCH</a></li>
                                <li><a href="@Url.Content("~/EmployerCareerServices")">CAREERS RESOURCES</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="notiuserdet">
                            <ul>
                                <li>
                                    @Html.Partial("_recruiterlogin")
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="dashboardsection MT30">
    <div class="container">
        <div class="row mainrow">
            <div class="col-sm-3">
                <div class="leftpanelsec">
                    <div class="userproimgsec  fade-1">
                        <div class="userimgrec">
                            <a href="#"><img src="@ViewBag.Logo" alt="" style="margin-top:6%" /></a>

                        </div>
                        <div class="usernamegraybg">
                            <div class="uercon"><span style="font-size:18px;">@ViewBag.Company</span></div>
                            <div class="uercon">
                                @ViewBag.Name @ViewBag.SurName
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="dashboardwhiteboxshadow paynowpostjob  fade-2">
                        <div class="paynowjoblist">
                            <ul>
                                <li><a href="@Url.Content("~/Reports")">User Activity Report </a> <a href="@Url.Content("~/Reports")" class="editiconcat"><i class="fa fa-info-circle" aria-hidden="true"></i></a></li>
                                <li><a href="@Url.Content("~/UserActivityReport")">Recruitment Report </a> <a href="@Url.Content("~/UserActivityReport")" class="editiconcat"><i class="fa fa-info-circle" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                        <div class="postjobntn"> <a href="@Url.Content("~/Packages")" class="graybtn">PACKAGES</a> <a href="@Url.Content("~/PostAJob")" class="redbgbtn">POST A JOB</a> </div>
                    </div>

                    @*<div class="ingrambox dashboardwhiteboxshadow  fade-1">
                          InstaWidget 
                        <a href="https://instawidget.net/v/user/jobs4bahrainis" id="link-b660c32d2a4cc8d4e0535b6a7f91ed8d34c89d205c8a48c58a15aad3f0c1585a">@@jobs4bahrainis</a>
                        <script src="https://instawidget.net/js/instawidget.js?u=b660c32d2a4cc8d4e0535b6a7f91ed8d34c89d205c8a48c58a15aad3f0c1585a&width=250px"></script>
                    </div>*@

                </div>
            </div>
            <div class="col-sm-9">

                


                
                <link href="@Url.Content("~/css/graphcircle.css")" rel="stylesheet" />
            


                <div class="homesearchsection  fade-1">
                    <h1 class="mainpagetitle Padd15"><span>CANDIDATE </span>SEARCH</h1>
                    <div class="searchformsec">
                        <div class="row">
                            @*@using (Html.BeginForm("Search", "Home"))
                            {*@
@using (Html.BeginForm("CandidateSearchResult2", "Home", FormMethod.Get))
{
                                <div class="col-sm-5">
                                    <input name="keyword" type="text" id="keyword" placeholder="Search job title" class="skill-search-icon">
                                    
                                    
                                </div>
                                <div class="col-md-6">
                                    
                                </div>
                                    <div class="col-sm-4">
                                        @*<input name="fname" type="text" placeholder="First Name">*@
                                        <select name="chksector" >
                                            <option value="">Sectors</option>
                                            @foreach (var jsc in ViewBag.Sectors)
                                            {
                                                <option value="@jsc.lm_Id">@jsc.lm_Value</option>
                                            }
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        @*<input name="lname" type="text" placeholder="Last Name">*@
                                        @*<select name="jobtype" required>
                                            <option value="0">Job type</option>
                                            <option>Any</option>
                                            <option>Permenant</option>
                                            <option>Contract</option>
                                        </select>*@
                                        @*<label>Experience </label>*@
                                                                             <select style="width:100%" class="form-control searchableselect" id="ca_TotalRelavantExperience" name="ca_TotalRelavantExperience">
                                            <option value="">Experience</option>
                                            @foreach (var jfn in ViewBag.Experience)
                                            {
                                                <option  value="@jfn.lm_Id">@jfn.lm_Value</option>
                                            }

                                        </select>

                                    </div>
                                    <div class="col-sm-2">
                                        <input name="" type="submit" value="Search">
                                    </div>
                            }
                            <div style="margin-top:8px;"><a href="@Url.Content("~/CandidateSearch2")" class="advsearch">Advanced Search</a></div>
                        </div>

                        @*<div class="row">

                            <div class="col-md-12 ">
                                
                                
                                <div class="col-md-6 centertext">
                                    <br />
                                    <br />
                                    <br />
                              
                                   
                                    <div class="postjobntn"> <a href="@Url.Content("~/CandidateSearch")" class="graybtn" style="max-width:220px">Quick Search</a>  </div>

</div>

                          
                               
                                <div class="col-md-6 centertext">
                                    <br />
                                    <br />
                                    <br />
                                  
                                  
                                    <div class="postjobntn"> <a href="@Url.Content("~/CandidateSearch2")" class="redbgbtn" style="max-width:220px">Advanced Search</a> </div>
                                  


                                </div>
                            </div>


                            <br style="clear:both" />
                            <br />
                           
                            <div class="col-md-12 text-center postjobntn">
                                
                            </div>
                            
                        </div>*@
                    </div>
                </div>
                <script>
                    $(document).ready(function () {
                        $('#credithistory').hide();


                    });
                    function showcredithistory() {
                        $('#credithistory').show();
                    }
                </script>

               
               
                
               



            </div>




        </div>
    </div>
</div>

<script src="@Url.Content("~/Scripts/tinymce/tinymce.js")"></script>
<script type="text/javascript">

                    tinyMCE.init({
                        mode: "textareas",
                        theme: "modern",
                        theme_advanced_buttons1: "bold,italic,underline,strikethrough",
                        menubar: false,
                        statusbar: false,

                    });

</script>

<div id="ProfileModal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>COMPANY</span> PROFILE</h1>
            </div>
            <div class="modal-body">
                <div class="searchformsec">
                    <form method="post" action="@Url.Content("~/RecruiterUpdate")"   id="signupform" onsubmit="return validateForm()">



                        <div class="col-sm-12">
                            <div class="form-group   ui-front">
                                <label>Company Name <span class="red">*</span></label>
                                <input value="@ViewBag.Company" class="form-control" id="companyname" name="CompanyName" placeholder="Select" type="text" required oninvalid="this.setCustomValidity('Company Name is mandatory')" oninput="setCustomValidity('')">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Company Size <span class="red">*</span></label>
                                <select class="form-control" id="co_CompanySizeID" name="co_CompanySizeID" required oninvalid="this.setCustomValidity('Company size is mandatory')" oninput="setCustomValidity('')">
                                    <option value="">Select</option>
                                    @foreach (var edu in ViewBag.CompanySize)
                                    {
                                        <option @(ViewBag.CompanySizeID == edu.lm_Id ? "selected" : "") value="@edu.lm_Id">@edu.lm_Value</option>
                                    }
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Company Phone Number <span class="red">*</span></label>
                                <input value="@ViewBag.CompanyPhone" class="form-control" name="Phone" placeholder="Enter digits" maxlength="15" pattern="\d*" title="Only digits" required>
                            </div>
                        </div>

                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="summary">Address</label>
                                <input class="form-control" name="Address" id="address" placeholder="Enter text" type="text" value="@ViewBag.PostalAddress" />
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="summary">Company Profile <span class="red">*</span></label>
                                <textarea   class="form-control" id="Profile" name="Profile" placeholder="Enter text" required>@ViewBag.CompanyProfile</textarea>
                            </div>
                        </div>

                        <div class="col-sm-12">
                            <div class="form-group">
                                <input type="hidden" name="Registration" value="NO" />


                                <br style="clear:both" />
                                <div class="pull-right col-md-2">


                                    <input id="skill_save" type="submit" value="SAVE" class="btnsubmit">
                                </div>
                                <div style="margin:13px 5px 0 0;font-size:13px; float:right"><span style="color:red">* Mandatory Fields</span></div>
                            </div>
                        </div>


                    </form>
                    <script>
                        function validateForm() {

                            var Profile = $(tinyMCE.get('Profile').getBody()).text();
                            if (Profile.length < 100) {
                                alert('Company Profile must have more than 100 characters!');
                                $('#Profile').focus();
                                return false;
                            }
                        }
                    </script>
                </div>
                <br style="clear:both" />
                <br style="clear:both" />
            </div>
       
        </div>

    </div>
</div>


<div id="VideoModal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>COMPANY</span> VIDEO</h1>
            </div>
            <div class="modal-body">
                <div class="searchformsec">

                    @using (Html.BeginForm("CompanyVideo", "Home", FormMethod.Post))
                    {
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label class="pull-left">Video URL <span class="mandatory">*</span></label>
                            <input class="form-control" name="Video" type="text" required placeholder="Enter Text">
                        </div>
                    </div>

                    <div class="pull-right col-md-2">
                        <input id="skill_save" type="submit" value="SAVE" class="btnsubmit">
                    </div>
                    }
                </div>
                <br style="clear:both" />
                <br style="clear:both" />
            </div>

        </div>

    </div>
</div>
<div id="ManagementModal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>COMPANY</span> MANAGEMENT</h1>
            </div>
            <div class="modal-body">
                <div class="searchformsec">

                    <form id="companymanagement" method="post" enctype="multipart/form-data">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="pull-left">Name <span class="mandatory">*</span></label>
                                <input class="form-control" id="Name" name="Name" type="text" required placeholder="Enter Text">
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="pull-left">Position <span class="mandatory">*</span></label>
                                <input class="form-control" id="Position" name="Position" type="text" required placeholder="Enter Text">
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="custom-file-upload">
                                    <input type="file" id="uploadcv" name="uploadcv" onchange="showuploadcv()" required oninvalid="this.setCustomValidity('Image is mandatory')" oninput="setCustomValidity('')" />
                                    <div id="lbluploadcv">+ CHOOSE FILE </div>
                                </label>
                            </div>
                        </div>

                        <div class="pull-right col-md-2">
                            <input id="skill_save" type="submit" value="SAVE" class="btnsubmit">
                        </div>
                    </form>

                    <script>
                            $(document).ready(function () {




                                $("#companymanagement").submit(function (e) {
                                    e.preventDefault();
                                    var formdata = new FormData(this);



                                    $.ajax({
                                        method: "POST",
                                        url: "CompanyManagement",
                                        data: formdata,
                                        mimeTypes: "multipart/form-data",
                                        contentType: false,
                                        cache: false,
                                        processData: false,
                                        success: function (data) {
                                            alert('Successfully added!');
                                            $("#Name,#Position,#uploadcv").val("");

                                           window.location.href = "@Url.Content("~/Recruiter")";


                                        },
                                        error: function () {
                                            alert("Couldn't Save, check the input values!");
                                        }
                                    });
                                });
                            });





                            $("#uploadcv").hide();
                            function showuploadcv() {
                                $("#uploadcv").show();
                                $("#lbluploadcv").hide();


                            };


                            $(document).ready(function () {
                                $('#save').click(function () {
                                    showuploadcv();
                                });
                            });

                            $('#uploadcv').bind('change', function () {
                                if (this.files[0].size > 1500000) {
                                    alert('File size is too big, attach a smaller file!');
                                    $('#uploadcv').val("")
                                }
                            });

                    </script>

                </div>
                <br style="clear:both" />
                <br style="clear:both" />
            </div>

        </div>

    </div>
</div>
<div id="LogoModal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>COMPANY</span> LOGO</h1>
            </div>
            <div class="modal-body">
                <div class="searchformsec">

                    @using (Html.BeginForm("RecruiterLogo", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                    <div class="col-md-8"><input class="form-control" id="file" name="file" placeholder="Attach Logo" type="file" required></div>
                    <div class="col-md-4"><input name="save" type="submit" value="Upload"></div>
                    }

                </div>
                <br style="clear:both" />
                <br style="clear:both" />
            </div>
           
        </div>

    </div>
</div>

<div id="BAmodal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>BUSINESS</span> ACTIVITIES</h1>
            </div>
            <div class="modal-body">


                @using (Html.BeginForm("BusinessActivities", "Home"))
                    {
                        int flag = 0;
                        foreach (var s in ViewBag.Sectors)
                        {
                <div class="col-md-4">
                    @foreach (var ext in ViewBag.BAexisting)
                                {
                                    if (ext == s.lm_Id)
                                    {
                                        flag = 1;
                                <input checked type="checkbox" id="chksector" name="chksector" value="@s.lm_Id" /> <span style="font-size:14px;color:#333">@s.lm_Value</span>
                                        break;
                                    }

                                }
                    @if (flag == 0)
                                {
                                <input type="checkbox" id="chksector" name="chksector" value="@s.lm_Id" /> <span style="font-size:14px;color:#333">@s.lm_Value</span>
                                }
                </div>
                            flag = 0;
                        }
                <br style="clear:both" />
                <br style="clear:both" />
                <div class="col-md-2 pull-right"><input id="savesector" class="btnsubmit" type="submit" value="SAVE"></div>
                <br style="clear:both" />
                <br style="clear:both" />
                    }



            </div>

        </div>

    </div>
</div>

<div id="ContactModal" class="modal fade" role="dialog">
    <div class="modal-lg center-block">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h1 class="mainpagetitle"><span>COMPANY</span> CONTACT</h1>
            </div>
            <div class="modal-body">
                <div class="searchformsec">

                   
                        <form id="companycontact" method="post" enctype="multipart/form-data">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="pull-left">First Name <span class="mandatory">*</span></label>
                                    <input class="form-control" id="FirstName" name="FirstName" type="text" required placeholder="Enter Text">
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="pull-left">Last Name <span class="mandatory">*</span></label>
                                    <input class="form-control" id="LastName" name="LastName" type="text" required placeholder="Enter Text">
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="pull-left">Phone Number <span class="mandatory">*</span></label>
                                    <input class="form-control" id="Phone" name="Phone" type="text" required placeholder="Enter Text">
                                </div>
                            </div>



                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Position in Company <span class="red">*</span></label>
                                    <select class="form-control" id="co_PositioninCompanyID" name="co_PositioninCompanyID" required oninvalid="this.setCustomValidity('Position in company is mandatory')" oninput="setCustomValidity('')">
                                        <option value="">Select</option>
                                        @foreach (var edu in ViewBag.Position)
                                        {
                                            <option value="@edu.lm_Id">@edu.lm_Value</option>
                                        }
                                    </select>
                                </div>
                            </div>



                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="pull-left">Email (User ID) <span class="mandatory">*</span></label>
                                    <input class="form-control" id="Email" name="Email" type="email" required placeholder="Enter Text">
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="pull-left">Password <span class="mandatory">*</span></label>
                                    <input class="form-control" id="Password" name="Password" type="password" required placeholder="Enter Text">
                                </div>
                            </div>

                            <input type="hidden" name="CompanyID" value="@ViewBag.CompanyID" />
                            <div class="pull-right col-md-2">
                                <input id="skill_save" type="submit" value="SAVE" class="btnsubmit">
                            </div>
                        </form>

                    <script>
                        $(document).ready(function () {
                            $("#companycontact").submit(function (e) {
                                e.preventDefault();
                                var formdata = new FormData(this);
                                $.ajax({
                                    method: "POST",
                                    url: "@Url.Content("~/CompanyContact")",
                                    data: formdata,
                                    mimeTypes: "multipart/form-data",
                                    contentType: false,
                                    cache: false,
                                    processData: false,
                                    success: function (data) {
                                        alert('Successfully added!');
                                        window.location.href = "@Url.Content("~/Recruiter")";
                                    },
                                    error: function () {
                                        alert("Couldn't Save, check the input values!");
                                    }
                                });
                            });
                        });
                    </script>

                </div>
                <br style="clear:both" />
                <br style="clear:both" />
            </div>

        </div>

    </div>
</div>


<script>
                            function delCM(CompanyManagementID) {
                                $.ajax({
                                    url: "@Url.Content("~/DeleteCompanyManagement/")" + CompanyManagementID,
                                    success: function (data) {
                                        alert('Company Management Deleted!');
                                        window.location.href = "@Url.Content("~/Recruiter")";
                                    },
                                    error: function () {
                                        alert('No  Company Management to delete!');
                                    }
                                });
                            }



                            $(document).ready(function () {
                                $("#savesector").click(function (e) {
                                    e.preventDefault();
                                    var listCheck = [];
                                    $("input[name='chksector']:checked").each(function () {
                                        listCheck.push($(this).val());
                                    });
                                    //    alert(listCheck);
                                    var checkeditems = listCheck.join(',');
                                    $.ajax({
                                        method: "POST",
                                        url: "RecruiterSectors2",
                                        data: { checkeditems: checkeditems },
                                        success: function (data) {
                                            window.location.href = "Recruiter";
                                        },
                                        error: function () {
                                            alert("Sorry unable to add, Select atleast one sector!");
                                        }
                                    });
                                });
                            });
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="@Url.Content("~/css/jquery-ui.css")">

<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
@*<script src="@Url.Content("~/js/autocompletevalues.js")"></script>*@

<script>
                            $(function () {


                                $("#companyname").autocomplete({
                                    source: function (request, response) {
                                        $.ajax({
                                            url: "getABCcompanies/" + request.term,
                                            success: function (data) {
                                                var transformed = $.map(data, function (el) {
                                                    return {
                                                        label: el.Company,
                                                        id: el.id
                                                    };
                                                });
                                                response(transformed);
                                            },
                                            error: function () {
                                                response([]);
                                            }
                                        });
                                    }
                                });
                            });


</script>
<script>
                            $(function () {
                                //$('.searchableselect').select2();



                                $("#keyword").autocomplete({
                                    source: function (request, response) {
                                        $.ajax({
                                            url: "getWorkExperinceJobTitle/" + request.term,
                                            success: function (data) {
                                                var transformed = $.map(data, function (el) {
                                                    return {
                                                        label: el.JobTitle


                                                    };
                                                });
                                                response(transformed);
                                            },
                                            error: function () {
                                                response([]);
                                            }
                                        });
                                    }
                                });
                            })
</script>

<script type="text/javascript">
function add_chatinline() { var hccid = 33478387; var nt = document.createElement("script"); nt.async = true; nt.src = "https://mylivechat.com/chatinline.aspx?hccid=" + hccid; var ct = document.getElementsByTagName("script")[0]; ct.parentNode.insertBefore(nt, ct); }
    add_chatinline(); 
</script>

@*
    https://mylivechat.com
    USERID: 33478387
    pw: hilalbah01


    email userd: binju.paul@tradearabia.net
*@